<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Juego en Javascript</title>
	<script>
		var mapa = [0,0,0,0,0,0,0,0,0,];
		var jugador = 1;
		function dibujar() {
			for (i = 0; i < 9; i++) {
				if (mapa[i] == 0) document.getElementById("c"+i).style="background-color:white";
				if (mapa[i] == 1) document.getElementById("c"+i).style="background-color:red";
				if (mapa[i] == 2) document.getElementById("c"+i).style="background-color:blue";
			}
			// body...
		}
		function pcelda(celda) {
			if (mapa[celda]==0){
				if (jugador == 1) {
					mapa[celda]=1;
					jugador = 2;
				} else {
					mapa[celda]=2;
					jugador=1;
				}
			} else{
			window.alert("No puedes pulzar una tecla coloreada");
			}
			dibujar();
			switch(ganador()){
				case 0:
					break;
				case 1:
					window.alert("Gana rojo");
					break;
				case 2:
					window.alert("Gana azul");
					break
				case 3:
					window.alert("Empate")
			}
			// body...
		}
		function ganador() {
			//verticales
			if(mapa[0]==mapa[1] && mapa[1]==mapa[2] && mapa[0]!=0) return mapa[0];
			if(mapa[3]==mapa[4] && mapa[4]==mapa[5] && mapa[3]!=0) return mapa[3];
			if(mapa[6]==mapa[7] && mapa[7]==mapa[8] && mapa[6]!=0) return mapa[6];
			//horizontales
			if(mapa[0]==mapa[3] && mapa[3]==mapa[6] && mapa[0]!=0) return mapa[0];
			if(mapa[1]==mapa[4] && mapa[4]==mapa[7] && mapa[1]!=0) return mapa[1];
			if(mapa[2]==mapa[5] && mapa[5]==mapa[8] && mapa[2]!=0) return mapa[2];
			//horizontales
			if(mapa[0]==mapa[4] && mapa[4]==mapa[8] && mapa[0]!=0) return mapa[0];
			if(mapa[2]==mapa[4] && mapa[4]==mapa[6] && mapa[2]!=0) return mapa[2]; 

			var numEspacios = 0;	
			for (i = 0; i < 9; i++) {
				if(mapa[i] == 0) numEspacios++;
				}

			if (numEspacios > 0) {
				return 0;
			} else {
				return 3;
			}
			// body...
		}
	</script>
</head>
<body>
	<table border="1">
	<tr>
			<td id="c0" width="100px" height="100px" onclick="pcelda(0)"></td>
			<td id="c1" width="100px" height="100px" onclick="pcelda(1)"></td>
			<td id="c2" width="100px" height="100px" onclick="pcelda(2)"></td>
		</tr>
		<tr>
			<td id="c3" width="100px" height="100px" onclick="pcelda(3)"></td>
			<td id="c4" width="100px" height="100px" onclick="pcelda(4)"></td>
			<td id="c5" width="100px" height="100px" onclick="pcelda(5)"></td>
		</tr>
		<tr>
			<td id="c6" width="100px" height="100px" onclick="pcelda(6)"></td>
			<td id="c7" width="100px" height="100px" onclick="pcelda(7)"></td>
			<td id="c8" width="100px" height="100px" onclick="pcelda(8)"></td>
		</tr>
	</table>
</body>
</html>